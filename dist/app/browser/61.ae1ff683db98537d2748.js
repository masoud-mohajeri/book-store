(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{jkDv:function(e,i,n){"use strict";n.r(i),n.d(i,"AdminPageModule",function(){return W});var t=n("SVse"),o=n("s7LF"),c=n("sZkV"),s=n("oOf3"),r=n("iInd"),a=n("8Y7J"),b=n("2Vo4"),l=n("I/3d"),u=n("8nna");let d=(()=>{class e{constructor(e,i){this.afs=e,this.uiService=i,this.publishers=[],this.publisherEmitter=new b.a(null)}getAllPublishers(){return this.afs.collection("User",e=>e.where("status","==","PUBLISHER")).valueChanges({idField:"id"})}changePublisherStatus(e,i){this.afs.doc("User/"+i).update({activatedStatus:e}).then(()=>{this.uiService.presentToast(e?"\u0646\u0627\u0634\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u0627\u06cc\u06cc\u062f \u0634\u062f ":"\u0646\u0627\u0634\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0645\u0633\u062f\u0648\u062f \u0634\u062f ")}).catch(e=>{throw this.uiService.presentToast("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u062a\u063a\u06cc\u06cc\u0631 \u0648\u0636\u0639\u06cc\u062a \u0646\u0627\u0634\u0631 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f "),new Error(e)})}returnPublisherById(e){return this.afs.collection("User",i=>i.where("name","==",e).where("status","==","Publisher")).valueChanges()}}return e.\u0275fac=function(i){return new(i||e)(a.cc(l.a),a.cc(u.a))},e.\u0275prov=a.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=n("t1Rf"),f=n("C7gO");function g(e,i){1&e&&a.Ub(0,"ion-icon",5)}function h(e,i){1&e&&a.Ub(0,"ion-icon",6)}function m(e,i){if(1&e){const e=a.Zb();a.Yb(0,"section"),a.Yb(1,"h2"),a.zc(2),a.yc(3,g,1,0,"ion-icon",2),a.yc(4,h,1,0,"ion-icon",3),a.Xb(),a.Yb(5,"ion-button",4),a.gc("click",function(){return a.uc(e),a.ic().expandCollaps()}),a.zc(6," \u0646\u0645\u0627\u06cc\u0634 \u062c\u0632\u0626\u06cc\u0627\u062a "),a.Xb(),a.Xb()}if(2&e){const e=a.ic();a.Jb(2),a.Bc(" \u0646\u0634\u0631 ",e.publisher.name," "),a.Jb(1),a.oc("ngIf",e.publisher.activatedStatus),a.Jb(1),a.oc("ngIf",!e.publisher.activatedStatus)}}function k(e,i){1&e&&a.Ub(0,"ion-icon",18)}function v(e,i){1&e&&a.Ub(0,"ion-icon",19)}function Y(e,i){if(1&e){const e=a.Zb();a.Yb(0,"ion-button",20),a.gc("click",function(){return a.uc(e),a.ic(2).changePublisherStatus()}),a.zc(1," \u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 "),a.Xb()}}function X(e,i){if(1&e){const e=a.Zb();a.Yb(0,"ion-button",21),a.gc("click",function(){return a.uc(e),a.ic(2).changePublisherStatus()}),a.zc(1," \u0645\u0633\u062f\u0648\u062f \u06a9\u0631\u062f\u0646 "),a.Xb()}}function y(e,i){if(1&e&&(a.Yb(0,"ion-item"),a.Yb(1,"ion-avatar",22),a.Ub(2,"ion-img",23),a.Xb(),a.Yb(3,"ion-label",0),a.zc(4),a.Xb(),a.Xb()),2&e){const e=i.$implicit;a.Jb(2),a.oc("src",e.imageUrl),a.Jb(2),a.Ac(e.name)}}const S=function(e){return{itemsPerPage:5,currentPage:e}};function P(e,i){if(1&e){const e=a.Zb();a.Yb(0,"section"),a.Yb(1,"h1"),a.zc(2),a.yc(3,k,1,0,"ion-icon",7),a.yc(4,v,1,0,"ion-icon",8),a.Xb(),a.Yb(5,"ion-button",4),a.gc("click",function(){return a.uc(e),a.ic().expandCollaps()}),a.zc(6," \u0639\u062f\u0645 \u0646\u0645\u0627\u06cc\u0634 \u062c\u0632\u0626\u06cc\u0627\u062a "),a.Xb(),a.yc(7,Y,2,0,"ion-button",9),a.yc(8,X,2,0,"ion-button",10),a.Yb(9,"ion-grid",11),a.Yb(10,"ion-row"),a.Yb(11,"ion-col",12),a.Yb(12,"ion-list",13),a.Yb(13,"ion-header"),a.Yb(14,"ion-toolbar"),a.Yb(15,"ion-title"),a.zc(16,"\u06a9\u062a\u0627\u0628 \u0647\u0627\u06cc \u0646\u0634\u0631"),a.Xb(),a.Xb(),a.Xb(),a.yc(17,y,5,2,"ion-item",14),a.jc(18,"paginate"),a.Yb(19,"div",15),a.Yb(20,"pagination-controls",16),a.gc("pageChange",function(i){return a.uc(e),a.ic().paginationP=i}),a.Xb(),a.Xb(),a.Xb(),a.Yb(21,"ion-header"),a.Yb(22,"ion-toolbar"),a.Yb(23,"ion-title"),a.zc(24,"\u0622\u062f\u0631\u0633 "),a.Xb(),a.Xb(),a.Xb(),a.Yb(25,"ion-item"),a.Yb(26,"ion-label",17),a.zc(27),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.ic();a.Jb(2),a.Bc(" \u0646\u0634\u0631 ",e.publisher.name," "),a.Jb(1),a.oc("ngIf",e.publisher.activatedStatus),a.Jb(1),a.oc("ngIf",!e.publisher.activatedStatus),a.Jb(3),a.oc("ngIf",!e.publisher.activatedStatus),a.Jb(1),a.oc("ngIf",e.publisher.activatedStatus),a.Jb(9),a.oc("ngForOf",a.lc(18,9,e.books,a.rc(12,S,e.paginationP))),a.Jb(3),a.oc("autoHide",!0)("responsive",!0),a.Jb(7),a.Bc(" ",e.publisher.address," ")}}let I=(()=>{class e{constructor(e,i,n){this.bookService=e,this.uiService=i,this.publisherService=n,this.expanded=!1,this.paginationP=1}ngOnInit(){this.uiService.needSpinner.next(!0),this.bookService.getAllBooksForPub().subscribe(e=>{this.uiService.needSpinner.next(!1),this.books=e},e=>{throw this.uiService.needSpinner.next(!1),this.uiService.presentToast("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u0644\u06cc\u0633\u062a \u06a9\u062a\u0627\u0628 \u0647\u0627 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f ."),new Error(e)})}changePublisherStatus(){this.publisherService.changePublisherStatus(!this.publisher.activatedStatus,this.publisher.id)}expandCollaps(){this.expanded=!this.expanded}}return e.\u0275fac=function(i){return new(i||e)(a.Tb(f.a),a.Tb(u.a),a.Tb(d))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-publisher-card"]],inputs:{publisher:"publisher"},decls:4,vars:2,consts:[[2,"direction","rtl"],[4,"ngIf"],["name","cloud-done","color","success","style","font-size: 1.5rem",4,"ngIf"],["name","cloud-offline","color","danger","style","font-size: 1.5rem",4,"ngIf"],["color","tertiary","fill","solid",3,"click"],["name","cloud-done","color","success",2,"font-size","1.5rem"],["name","cloud-offline","color","danger",2,"font-size","1.5rem"],["name","cloud-done","color","success","style","font-size: 1.8rem",4,"ngIf"],["name","cloud-offline","color","danger","style","font-size: 1.8rem",4,"ngIf"],["color","success","fill","outline","shape","round",3,"click",4,"ngIf"],["color","danger","fill","outline","shape","round",3,"click",4,"ngIf"],["fixed",""],["size","12","sizeMd","10","offsetMd","1","offset","0"],["lines","none","inset","true"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],["previousLabel"," ","nextLabel"," ",3,"autoHide","responsive","pageChange"],[1,"ion-text-wrap"],["name","cloud-done","color","success",2,"font-size","1.8rem"],["name","cloud-offline","color","danger",2,"font-size","1.8rem"],["color","success","fill","outline","shape","round",3,"click"],["color","danger","fill","outline","shape","round",3,"click"],["slot","start"],[3,"src"]],template:function(e,i){1&e&&(a.Yb(0,"ion-item"),a.Yb(1,"ion-label",0),a.yc(2,m,7,3,"section",1),a.yc(3,P,28,14,"section",1),a.Xb(),a.Xb()),2&e&&(a.Jb(2),a.oc("ngIf",!i.expanded),a.Jb(1),a.oc("ngIf",i.expanded))},directives:[c.u,c.v,t.m,c.f,c.r,c.p,c.A,c.n,c.w,c.q,c.P,c.O,t.l,s.c,c.b,c.s],pipes:[s.b],styles:[""]}),e})();var w=n("HDdC"),z=n("O/T3");function J(e,i){if(1&e&&(a.Yb(0,"ion-item",2),a.Yb(1,"ion-chip",3),a.Yb(2,"ion-avatar"),a.Ub(3,"img",4),a.Xb(),a.Yb(4,"ion-label"),a.zc(5),a.Xb(),a.Xb(),a.Xb()),2&e){const e=i.$implicit;a.Jb(3),a.oc("src",e.imageUrl,a.vc),a.Jb(2),a.Ac(e.name)}}let C=(()=>{class e{constructor(e){this.bookService=e,this.books=[]}ngOnInit(){for(const e of this.package.bookIdArray)this.bookService.returnBookById(e).subscribe(e=>{this.books.push(e)})}}return e.\u0275fac=function(i){return new(i||e)(a.Tb(f.a))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-offer-item"]],inputs:{package:"package"},decls:3,vars:1,consts:[["lines","none"],["style","display: inline-block; direction: rtl",4,"ngFor","ngForOf"],[2,"display","inline-block","direction","rtl"],["color","dark"],[3,"src"]],template:function(e,i){1&e&&(a.Yb(0,"ion-item"),a.Yb(1,"ion-list",0),a.yc(2,J,6,2,"ion-item",1),a.Xb(),a.Xb()),2&e&&(a.Jb(2),a.oc("ngForOf",i.books))},directives:[c.u,c.w,t.l,c.m,c.b,c.v],styles:[""]}),e})();function F(e,i){if(1&e&&(a.Yb(0,"ion-select-option",22),a.zc(1),a.Xb()),2&e){const e=i.$implicit;a.oc("value",e.id),a.Jb(1),a.Cc(" ",e.name,"-",e.publisher," ")}}function U(e,i){if(1&e){const e=a.Zb();a.Yb(0,"ion-button",23),a.gc("click",function(){return a.uc(e),a.ic().onAddButton()}),a.zc(1," \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 "),a.Xb()}}function x(e,i){if(1&e){const e=a.Zb();a.Yb(0,"ion-button",23),a.gc("click",function(){return a.uc(e),a.ic().onUpdateButton()}),a.zc(1," \u0622\u067e\u062f\u06cc\u062a \u06a9\u0631\u062f\u0646 "),a.Xb()}}function B(e,i){if(1&e){const e=a.Zb();a.Yb(0,"ion-button",24),a.gc("click",function(){return a.uc(e),a.ic().onDeleteButton()}),a.zc(1," \u062d\u0630\u0641 \u06a9\u0631\u062f\u0646 "),a.Xb()}}function E(e,i){if(1&e){const e=a.Zb();a.Yb(0,"section"),a.Yb(1,"ion-button",25),a.gc("click",function(){a.uc(e);const n=i.$implicit;return a.ic().editPack(n.id)}),a.zc(2),a.Xb(),a.Ub(3,"app-offer-item",26),a.Xb()}if(2&e){const e=i.$implicit;a.Jb(2),a.Bc(" \u0648\u06cc\u0631\u0627\u06cc\u0634 ",e.name," \ud83d\udc47 "),a.Jb(1),a.oc("package",e)}}const O=function(e){return{itemsPerPage:5,currentPage:e}};let T=(()=>{class e{constructor(e,i,n,t){this.packagesService=e,this.bookService=i,this.uiService=n,this.loadingController=t,this.subs=[],this.paginationP=1,this.editMode=!1,this.onEditPackage=null}ngOnInit(){var e,i,n,t;this.bookService.getAllBooks().subscribe(e=>{this.books=e},e=>{throw this.uiService.presentToast("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u0644\u06cc\u0633\u062a \u06a9\u062a\u0627\u0628 \u0647\u0627 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f ."),new Error(e)}),this.packages=new w.a(e=>{this.packagesService.getAllPackages().subscribe(i=>{e.next(i)})}),this.packageForm=new o.c({id:new o.a(null,o.k.required),name:new o.a(null===(e=this.onEditPackage)||void 0===e?void 0:e.name,o.k.required),imageUrl:new o.a(null===(i=this.onEditPackage)||void 0===i?void 0:i.imageUrl,o.k.required),bookIdArray:new o.a(null===(n=this.onEditPackage)||void 0===n?void 0:n.bookIdArray,o.k.required),description:new o.a(null===(t=this.onEditPackage)||void 0===t?void 0:t.description,o.k.required)})}editPack(e){this.loadingController.create({message:"\u0644\u0637\u0641\u0627 \u06a9\u0645\u06cc \u0635\u0628\u0631 \u06a9\u0646\u06cc\u062f"}).then(i=>{i.present(),this.editMode=!0,this.packagesService.returnPackageById(e).then(e=>{this.onEditPackage=e,this.packageForm.setValue({id:this.onEditPackage.id,name:this.onEditPackage.name,imageUrl:this.onEditPackage.imageUrl,bookIdArray:this.onEditPackage.bookIdArray,description:this.onEditPackage.description}),i.dismiss()}).catch(e=>{throw i.dismiss(),new Error(e)})})}onClearButton(){this.packageForm.reset(),this.editMode=!1,this.onEditPackage=null}onDeleteButton(){this.packagesService.deletePackage(this.onEditPackage.id),this.onClearButton()}onAddButton(){this.loadingController.create({message:"\u0644\u0637\u0641\u0627 \u06a9\u0645\u06cc \u0635\u0628\u0631 \u06a9\u0646\u06cc\u062f"}).then(e=>{e.present(),this.packagesService.uploadImage(this.imageEvent,this.packageForm.value.name).then(i=>{this.packageForm.patchValue({imageUrl:i}),this.packagesService.addPackage(this.packageForm.value),this.uiService.presentToast("\u0639\u06a9\u0633 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u067e\u0644\u0648\u062f \u0634\u062f "),this.onClearButton(),e.dismiss()}).catch(i=>{throw this.uiService.presentToast("\u0639\u06a9\u0633 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u067e\u0644\u0648\u062f \u0646\u0634\u062f "),e.dismiss(),new Error(i)})})}uploadFile(e){this.imageEvent=e}onUpdateButton(){this.packagesService.updatePackage(this.packageForm.value),this.onClearButton()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(i){return new(i||e)(a.Tb(z.a),a.Tb(f.a),a.Tb(u.a),a.Tb(c.S))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-offers"]],decls:41,vars:16,consts:[["fixed",""],["sizeMd","5","size","12","offsetMd","3"],[3,"formGroup"],["pform",""],["position","fixed","slot","end"],["type","text","formControlName","id","readonly","",2,"direction","rtl"],["type","text","formControlName","name",2,"direction","rtl"],["type","file","formControlName","imageUrl",2,"direction","rtl",3,"change"],["formControlName","description",2,"direction","rtl"],["slot","end"],["formControlName","bookIdArray","multiple","true","okText","Okay!",2,"direction","rtl"],[3,"value",4,"ngFor","ngForOf"],["fill","solid","color","warning","type","button",3,"click"],["fill","solid","color","success","type","button",3,"click",4,"ngIf"],["fill","solid","color","danger","type","button",3,"click",4,"ngIf"],["sizeMd","2","size","6","offset","3","offsetMd","0"],["alt","image !!!!!!!!!!",3,"src"],["sizeMd","6","size","12","offsetMd","3"],[2,"direction","rtl"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],["previousLabel"," ","nextLabel"," ",3,"autoHide","responsive","pageChange"],[3,"value"],["fill","solid","color","success","type","button",3,"click"],["fill","solid","color","danger","type","button",3,"click"],["fill","outline","expand","block","color","medium",3,"click"],[3,"package"]],template:function(e,i){1&e&&(a.Yb(0,"ion-grid",0),a.Yb(1,"ion-row"),a.Yb(2,"ion-col",1),a.Yb(3,"form",2,3),a.Yb(5,"ion-item"),a.Yb(6,"ion-label",4),a.zc(7," : \u0634\u0646\u0627\u0633\u0647 "),a.Xb(),a.Ub(8,"ion-input",5),a.Xb(),a.Yb(9,"ion-item"),a.Yb(10,"ion-label",4),a.zc(11," : \u0646\u0627\u0645 "),a.Xb(),a.Ub(12,"ion-input",6),a.Xb(),a.Yb(13,"ion-item"),a.Yb(14,"ion-label",4),a.zc(15," : \u0639\u06a9\u0633 "),a.Xb(),a.Yb(16,"ion-input",7),a.gc("change",function(e){return i.uploadFile(e)}),a.Xb(),a.Xb(),a.Yb(17,"ion-item"),a.Yb(18,"ion-label",4),a.zc(19," : \u062a\u0648\u0636\u06cc\u062d\u0627\u062a "),a.Xb(),a.Ub(20,"ion-textarea",8),a.Xb(),a.Yb(21,"ion-item"),a.Yb(22,"ion-label",9),a.zc(23,"\u06a9\u062a\u0627\u0628 \u0647\u0627"),a.Xb(),a.Yb(24,"ion-select",10),a.yc(25,F,2,3,"ion-select-option",11),a.Xb(),a.Xb(),a.Yb(26,"ion-button",12),a.gc("click",function(){return i.onClearButton()}),a.zc(27," \u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646 "),a.Xb(),a.yc(28,U,2,0,"ion-button",13),a.yc(29,x,2,0,"ion-button",13),a.yc(30,B,2,0,"ion-button",14),a.Xb(),a.Xb(),a.Yb(31,"ion-col",15),a.Ub(32,"ion-img",16),a.Xb(),a.Xb(),a.Yb(33,"ion-row"),a.Yb(34,"ion-col",17),a.Yb(35,"ion-list",18),a.yc(36,E,4,2,"section",19),a.jc(37,"paginate"),a.jc(38,"async"),a.Xb(),a.Yb(39,"div",20),a.Yb(40,"pagination-controls",21),a.gc("pageChange",function(e){return i.paginationP=e}),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()),2&e&&(a.Jb(3),a.oc("formGroup",i.packageForm),a.Jb(22),a.oc("ngForOf",i.books),a.Jb(3),a.oc("ngIf",!i.editMode),a.Jb(1),a.oc("ngIf",i.editMode),a.Jb(1),a.oc("ngIf",i.editMode),a.Jb(2),a.oc("src",null==i.onEditPackage?null:i.onEditPackage.imageUrl),a.Jb(4),a.oc("ngForOf",a.lc(37,9,a.kc(38,12,i.packages),a.rc(14,O,i.paginationP))),a.Jb(4),a.oc("autoHide",!0)("responsive",!0))},directives:[c.p,c.A,c.n,o.l,o.i,o.d,c.u,c.v,c.t,c.W,o.h,o.b,c.M,c.D,c.V,t.l,c.f,t.m,c.s,c.w,s.c,c.E,C],pipes:[s.b,t.b],styles:[""]}),e})();var A=n("IYfF");function M(e,i){1&e&&a.Ub(0,"ion-spinner",2)}function j(e,i){if(1&e&&(a.Yb(0,"ion-grid",3),a.Yb(1,"ion-row"),a.Yb(2,"ion-col",4),a.zc(3),a.Xb(),a.Yb(4,"ion-col",4),a.zc(5),a.Xb(),a.Yb(6,"ion-col",4),a.zc(7),a.Xb(),a.Yb(8,"ion-col",4),a.zc(9),a.jc(10,"date"),a.Xb(),a.Xb(),a.Xb()),2&e){const e=a.ic();a.Jb(3),a.Bc(" \u0646\u0634\u0631 ",e.book.publisher," "),a.Jb(2),a.Bc(" ",e.book.name," "),a.Jb(2),a.Bc(" \u062a\u0639\u062f\u0627\u062f : ",e.order.count," "),a.Jb(2),a.Bc(" ",a.kc(10,4,e.order.paymentDate)," ")}}let H=(()=>{class e{constructor(e,i,n){this.publisherService=e,this.booksService=i,this.authService=n,this.needSpinner=!0}ngOnInit(){new Promise((e,i)=>{this.booksService.returnBookById(this.order.bookId).subscribe(i=>{e(i)})}).then(e=>{this.book=e,this.needSpinner=!1})}}return e.\u0275fac=function(i){return new(i||e)(a.Tb(d),a.Tb(f.a),a.Tb(A.a))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-all-order-history"]],inputs:{order:"order"},decls:2,vars:2,consts:[["name","dots",4,"ngIf"],["style","direction: rtl","fixed","",4,"ngIf"],["name","dots"],["fixed","",2,"direction","rtl"],["size","3"]],template:function(e,i){1&e&&(a.yc(0,M,1,0,"ion-spinner",0),a.yc(1,j,11,6,"ion-grid",1)),2&e&&(a.oc("ngIf",i.needSpinner),a.Jb(1),a.oc("ngIf",!i.needSpinner))},directives:[t.m,c.H,c.p,c.A,c.n],pipes:[t.e],styles:[""]}),e})();function N(e,i){if(1&e&&(a.Yb(0,"div"),a.Ub(1,"app-publisher-card",9),a.Xb()),2&e){const e=i.$implicit;a.Jb(1),a.oc("publisher",e)}}function Z(e,i){if(1&e&&(a.Yb(0,"section"),a.Yb(1,"ion-list",0),a.Yb(2,"ion-grid",6),a.Yb(3,"ion-row"),a.Yb(4,"ion-col",7),a.yc(5,N,2,1,"div",8),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()),2&e){const e=a.ic();a.Jb(5),a.oc("ngForOf",e.publishers)}}function D(e,i){1&e&&(a.Yb(0,"section"),a.Ub(1,"app-offers"),a.Xb())}function L(e,i){1&e&&a.Ub(0,"ion-spinner",13)}function q(e,i){1&e&&a.Ub(0,"app-all-order-history",15),2&e&&a.oc("order",i.$implicit)}const V=function(e){return{itemsPerPage:24,currentPage:e}};function $(e,i){if(1&e&&(a.Yb(0,"section"),a.yc(1,q,1,1,"app-all-order-history",14),a.jc(2,"paginate"),a.Xb()),2&e){const e=a.ic(2);a.Jb(1),a.oc("ngForOf",a.lc(2,1,e.orders,a.rc(4,V,e.paginationP)))}}function R(e,i){if(1&e){const e=a.Zb();a.Yb(0,"section"),a.yc(1,L,1,0,"ion-spinner",10),a.yc(2,$,3,6,"section",5),a.Yb(3,"section",11),a.Yb(4,"pagination-controls",12),a.gc("pageChange",function(i){return a.uc(e),a.ic().paginationP=i}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.ic();a.Jb(1),a.oc("ngIf",e.needSpinner),a.Jb(1),a.oc("ngIf",!e.needSpinner),a.Jb(2),a.oc("autoHide",!0)("responsive",!0)}}const Q=[{path:"",component:(()=>{class e{constructor(e,i,n){this.publishersService=e,this.orderPayService=i,this.uiService=n,this.pageState="offers",this.subscriptions=[],this.needSpinner=!0,this.orders=[],this.paginationP=1}ngOnInit(){this.subscriptions.push(this.publishersService.getAllPublishers().subscribe(e=>{this.publishers=e},e=>{throw this.uiService.presentToast("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u0644\u06cc\u0633\u062a \u0646\u0627\u0634\u0631\u0627\u0646 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f "),new Error(e)})),new Promise((e,i)=>{this.orderPayService.getAllOrders().subscribe(i=>{e(i)})}).then(e=>{this.orders=e,this.needSpinner=!1})}segmentChanged(e){this.pageState=e.detail.value}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}}return e.\u0275fac=function(i){return new(i||e)(a.Tb(d),a.Tb(p.a),a.Tb(u.a))},e.\u0275cmp=a.Nb({type:e,selectors:[["app-admin"]],decls:18,vars:3,consts:[["slot","end"],["value","offers",3,"ionChange"],["value","pubs"],["value","offers"],["value","sale-report"],[4,"ngIf"],["fixed",""],["size","12","sizeMd","8","offsetMd","2","offset","0"],[4,"ngFor","ngForOf"],[3,"publisher"],["name","dots",4,"ngIf"],[2,"display","flex","justify-content","center"],["previousLabel"," ","nextLabel"," ",3,"autoHide","responsive","pageChange"],["name","dots"],[3,"order",4,"ngFor","ngForOf"],[3,"order"]],template:function(e,i){1&e&&(a.Yb(0,"ion-header"),a.Yb(1,"ion-toolbar"),a.Yb(2,"ion-title",0),a.zc(3,"\u0627\u062f\u0645\u06cc\u0646 "),a.Xb(),a.Xb(),a.Xb(),a.Yb(4,"ion-content"),a.Yb(5,"ion-segment",1),a.gc("ionChange",function(e){return i.segmentChanged(e)}),a.Yb(6,"ion-segment-button",2),a.Yb(7,"ion-label"),a.zc(8,"\u0646\u0627\u0634\u0631\u0627\u0646"),a.Xb(),a.Xb(),a.Yb(9,"ion-segment-button",3),a.Yb(10,"ion-label"),a.zc(11,"\u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0648\u06cc\u0698\u0647 "),a.Xb(),a.Xb(),a.Yb(12,"ion-segment-button",4),a.Yb(13,"ion-label"),a.zc(14,"\u06af\u0632\u0627\u0631\u0634 \u0641\u0631\u0648\u0634"),a.Xb(),a.Xb(),a.Xb(),a.yc(15,Z,6,1,"section",5),a.yc(16,D,2,0,"section",5),a.yc(17,R,5,4,"section",5),a.Xb()),2&e&&(a.Jb(15),a.oc("ngIf","pubs"===i.pageState),a.Jb(1),a.oc("ngIf","offers"===i.pageState),a.Jb(1),a.oc("ngIf","sale-report"===i.pageState))},directives:[c.q,c.P,c.O,c.o,c.B,c.V,c.C,c.v,t.m,c.w,c.p,c.A,c.n,t.l,I,T,s.c,c.H,H],pipes:[s.b],styles:[""]}),e})()}];let G=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(i){return new(i||e)},imports:[[r.i.forChild(Q)],r.i]}),e})(),W=(()=>{class e{}return e.\u0275mod=a.Rb({type:e}),e.\u0275inj=a.Qb({factory:function(i){return new(i||e)},imports:[[t.c,o.e,c.Q,G,s.a,o.j,s.a]]}),e})()}}]);